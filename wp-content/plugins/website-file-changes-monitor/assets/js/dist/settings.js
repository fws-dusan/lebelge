!function(e){var t={};function n(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=16)}({16:function(e,t,n){n(17),n(46),e.exports=n(48)},17:function(e,t){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}window.addEventListener("load",(function(){var e=document.querySelector.bind(document),t=document.querySelectorAll('input[name="wfcm-settings[keep-log]"]'),a=e('select[name="wfcm-settings[scan-frequency]"]'),c=document.getElementById("scan-time-row"),r=e('select[name="wfcm-settings[scan-day]"]').parentNode,i=e('select[name="wfcm-settings[scan-date]"]').parentNode,o=document.querySelectorAll(".wfcm-files-container .add"),s=document.querySelectorAll(".wfcm-files-container .remove"),d=e("#wfcm-scan-start"),l=e("#wfcm-scan-stop"),u=e("#wfcm-scan-response"),f=e("#wfcm-send-test-email"),m=e("#wfcm-test-email-response");function g(e){r.classList.add("hidden"),i.classList.add("hidden"),"weekly"===e&&r.classList.remove("hidden"),"hourly"===e?(c.classList.add("faded-row"),jQuery("#scan-time-row").find("select").each((function(){jQuery(this).prop("disabled",!0)}))):(c.classList.remove("faded-row"),jQuery("#scan-time-row").find("select").each((function(){jQuery(this).prop("disabled",!1)})))}function p(e){var t="",n=e.target.dataset.objectType,a=e.target.dataset.listType;"dirs"===n?t=/^\s*[a-z-._\d,\s/]+\s*$/i:("files"===n||"exts"===n)&&(t=/^\s*[a-z-._\d,\s]+\s*$/i);var c=e.target.parentNode.querySelector(".name"),r=c.value;if(null===r.match(t))"dirs"===n?alert(wfcmSettingsData.dirInvalid):"files"===n?alert(wfcmSettingsData.fileInvalid):"exts"===n&&alert(wfcmSettingsData.extensionInvalid);else{var i=e.target.dataset.triggerPopup;i?jQuery.confirm({title:e.target.dataset.triggerPopupTitle,content:i,theme:"react-confirm-alert",animateFromElement:!0,draggable:!1,buttons:{ok:{text:"OK",btnClass:"btn-primary",keys:["enter"],action:function(){v(c,r,a,n)}}}}):v(c,r,a,n)}}function v(t,n,a,c){var r=e("#wfcm-".concat(a,"-").concat(c,"-list")),i=document.createElement("span"),o="".concat(a,"-").concat(c,"-").concat(n),s=document.createElement("input"),d=document.createElement("label");s.type="checkbox",s.checked=!0,s.name="wfcm-settings[scan-".concat(a,"-").concat(c,"][]"),s.id=o,s.value=n,d.setAttribute("for",o),d.innerHTML=n,i.appendChild(s),i.appendChild(d),r.appendChild(i),t.value=""}function h(t){for(var a=t.target.dataset.objectType,c=t.target.dataset.listType,r="wfcm-".concat(c,"-").concat(a,"-list"),i=n(t.target.parentNode.querySelectorAll("#"+r+" input[type=checkbox]")),o=[],s=0;s<i.length;s++)i[s].checked||o.push(i[s].value);if(o.length)for(var d=0;d<o.length;d++){var l=e('input[value="'+o[d]+'"]');l&&l.parentNode.remove()}}a.addEventListener("change",(function(){g(this.value)})),g(a.value),n(o).forEach((function(e){e.addEventListener("click",p)})),n(s).forEach((function(e){e.addEventListener("click",h)})),n(t).forEach((function(e){e.addEventListener("change",(function(){var t;t=e.checked,n(document.querySelectorAll(".wfcm-table fieldset")).forEach((function(e){e.disabled=!t}))}))})),d.addEventListener("click",(function(e){e.target.value=wfcmSettingsData.scanButtons.scanning,e.target.disabled=!0,l.disabled=!1,u.classList.add("hidden"),u.classList.remove("notice","notice-error");var t=new Request(wfcmSettingsData.monitor.start,{method:"GET",headers:{"X-WP-Nonce":wfcmSettingsData.restRequestNonce}});fetch(t).then((function(e){return e.json()})).then((function(t){t?e.target.value=wfcmSettingsData.scanButtons.scanNow:(e.target.value=wfcmSettingsData.scanButtons.scanFailed,u.classList.add("notice","notice-error"),u.classList.remove("hidden")),e.target.disabled=!1,l.disabled=!0})).catch((function(t){e.target.value=wfcmSettingsData.scanButtons.scanFailed,e.target.disabled=!1,l.disabled=!0,console.log(t),u.classList.add("notice","notice-error"),u.classList.remove("hidden")}))})),l.addEventListener("click",(function(e){e.target.value=wfcmSettingsData.scanButtons.stopping,e.target.disabled=!0;var t=new Request(wfcmSettingsData.monitor.stop,{method:"GET",headers:{"X-WP-Nonce":wfcmSettingsData.restRequestNonce}});fetch(t).then((function(e){return e.json()})).then((function(t){t&&(e.target.value=wfcmSettingsData.scanButtons.scanStop,d.disabled=!1)})).catch((function(e){console.log(e)}))})),f.addEventListener("click",(function(e){e.target.value=wfcmSettingsData.emailSending,e.target.disabled=!0,m.classList.remove("notice","notice-error"),m.classList.add("hidden");var t=new Request("".concat(wfcmSettingsData.adminAjax,"?action=wfcm_send_test_email&security=").concat(wfcmSettingsData.restRequestNonce),{method:"GET",headers:{"X-WP-Nonce":wfcmSettingsData.restRequestNonce}});fetch(t).then((function(e){return e.json()})).then((function(t){t&&!0===t.success?e.target.value=wfcmSettingsData.emailSent:(e.target.value=wfcmSettingsData.sendEmail,m.classList.add("notice","notice-error"),m.classList.remove("hidden")),e.target.disabled=!1})).catch((function(t){e.target.value=wfcmSettingsData.sendEmail,e.target.disabled=!1,console.log(t),m.classList.add("notice","notice-error"),m.classList.remove("hidden")}))})),document.getElementById("notice-email-address").addEventListener("click",(function(){document.getElementById("email-notice-custom").checked=!0}),!1)}))},46:function(e,t){},48:function(e,t){}});